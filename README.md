# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: –°–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ TICK Stack

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –¥–æ–º–∞—à–Ω–∏–º –∑–∞–¥–∞–Ω–∏–µ–º –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞ –±–∞–∑–µ TICK Stack (Telegraf, InfluxDB, Chronograf, Kapacitor).

---

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
.
‚îú‚îÄ‚îÄ docker-compose.yml          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TICK Stack
‚îú‚îÄ‚îÄ telegraf.conf               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegraf —Å Docker –ø–ª–∞–≥–∏–Ω–æ–º
‚îú‚îÄ‚îÄ kapacitor.conf              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Kapacitor
‚îú‚îÄ‚îÄ task01.md                   # –ó–∞–¥–∞–Ω–∏–µ 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –º–µ—Ç—Ä–∏–∫
‚îú‚îÄ‚îÄ task02.md                   # –ó–∞–¥–∞–Ω–∏–µ 2: –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
‚îú‚îÄ‚îÄ task03.md                   # –ó–∞–¥–∞–Ω–∏–µ 3: –°–±–æ—Ä –ª–æ–≥–æ–≤ –±–µ–∑ –±—é–¥–∂–µ—Ç–∞
‚îú‚îÄ‚îÄ task04.md                   # –ó–∞–¥–∞–Ω–∏–µ 4: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ SLA –º–µ—Ç—Ä–∏–∫
‚îú‚îÄ‚îÄ task05.md                   # –ó–∞–¥–∞–Ω–∏–µ 5: Pull vs Push –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îú‚îÄ‚îÄ task06.md                   # –ó–∞–¥–∞–Ω–∏–µ 6: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º
‚îú‚îÄ‚îÄ PRACTICE-TASKS.md           # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π 7-9
‚îî‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

### –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å (–∑–∞–¥–∞–Ω–∏—è 1-6)

‚úÖ **–ó–∞–¥–∞–Ω–∏–µ 1** - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å HTTP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
‚úÖ **–ó–∞–¥–∞–Ω–∏–µ 2** - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫ –≤ –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏ (SLI/SLO)
‚úÖ **–ó–∞–¥–∞–Ω–∏–µ 3** - –†–µ—à–µ–Ω–∏—è –¥–ª—è —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤ –±–µ–∑ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è
‚úÖ **–ó–∞–¥–∞–Ω–∏–µ 4** - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å SLA –º–µ—Ç—Ä–∏–∫–æ–π (70% –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—à–∏–±–æ–∫)
‚úÖ **–ó–∞–¥–∞–Ω–∏–µ 5** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ pull –∏ push –º–æ–¥–µ–ª–µ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚úÖ **–ó–∞–¥–∞–Ω–∏–µ 6** - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º: Prometheus, TICK, Zabbix, VictoriaMetrics, Nagios

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å (–∑–∞–¥–∞–Ω–∏—è 7-9)

‚è≥ **–ó–∞–¥–∞–Ω–∏–µ 7** - –ó–∞–ø—É—Å–∫ TICK stack, —Å–∫—Ä–∏–Ω—à–æ—Ç Chronograf
‚è≥ **–ó–∞–¥–∞–Ω–∏–µ 8** - Data Explorer: –≥—Ä–∞—Ñ–∏–∫ CPU —É—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
‚è≥ **–ó–∞–¥–∞–Ω–∏–µ 9** - –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker –º–µ—Ç—Ä–∏–∫ –≤ Telegraf

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose
- 300+ MB —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏
- –ü–æ—Ä—Ç—ã 8086, 8888, 9092 —Å–≤–æ–±–æ–¥–Ω—ã

### –ó–∞–ø—É—Å–∫

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/nikdev96/moni.git
cd moni

# –ó–∞–ø—É—Å—Ç–∏—Ç—å TICK Stack
sudo docker compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo docker ps

# –û—Ç–∫—Ä—ã—Ç—å Chronograf –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:8888
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
sudo docker compose down

# –° —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
sudo docker compose down -v
```

---

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã TICK Stack

### InfluxDB (–ø–æ—Ä—Ç 8086)
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

**Credentials:**
- Admin: `admin` / `admin123`
- User: `telegraf` / `telegraf123`

### Telegraf
–ê–≥–µ–Ω—Ç —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏:
- CPU, Memory, Disk, Network
- System stats
- Docker containers ‚úÖ (–∑–∞–¥–∞–Ω–∏–µ 9)

### Chronograf (–ø–æ—Ä—Ç 8888)
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**URL:** http://localhost:8888

### Kapacitor (–ø–æ—Ä—Ç 9092)
–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥

---

## üì∏ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: **[PRACTICE-TASKS.md](./PRACTICE-TASKS.md)**

### –ó–∞–¥–∞–Ω–∏–µ 7: Chronograf
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å TICK stack
2. –û—Ç–∫—Ä—ã—Ç—å http://localhost:8888
3. –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ó–∞–¥–∞–Ω–∏–µ 8: Data Explorer
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ "Explore"
2. –í—ã–±—Ä–∞—Ç—å: `telegraf.autogen` ‚Üí `cpu` ‚Üí `usage_system`
3. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ CPU
4. –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç

### –ó–∞–¥–∞–Ω–∏–µ 9: Docker –º–µ—Ç—Ä–∏–∫–∏
1. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ (10-30 —Å–µ–∫)
2. –í Explore –Ω–∞–π—Ç–∏ measurements: `docker_container_cpu`, `docker_container_mem`
3. –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç —Å–ø–∏—Å–∫–∞ Docker –º–µ—Ç—Ä–∏–∫

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

### –°–∏—Å—Ç–µ–º–Ω–∞—è –ø–∞–º—è—Ç—å
```bash
free -h
```

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
sudo docker stats
```

### –õ–æ–≥–∏
```bash
# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
sudo docker compose logs

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
sudo docker compose logs telegraf
sudo docker compose logs -f influxdb  # –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

---

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Telegraf –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo docker compose restart telegraf

# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä InfluxDB
sudo docker exec -it influxdb influx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
> SHOW DATABASES
> USE telegraf
> SHOW MEASUREMENTS
> SELECT * FROM cpu LIMIT 10

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
sudo docker compose down -v
```

---

## üì¶ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegraf

Docker –ø–ª–∞–≥–∏–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `telegraf.conf`:

```toml
[[inputs.docker]]
  endpoint = "unix:///var/run/docker.sock"
  timeout = "5s"
  perdevice = true
  total = false
```

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Telegraf –∑–∞–ø—É—â–µ–Ω —Å:
- `privileged: true`
- Volume: `/var/run/docker.sock:/var/run/docker.sock:ro`

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

---

## üéì –ò–∑—É—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

- **TICK Stack** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Telegraf** –ø–ª–∞–≥–∏–Ω—ã –∏ —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- **InfluxDB** –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
- **Chronograf** –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ Data Explorer
- **Docker** –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **SLI/SLO** –º–µ—Ç—Ä–∏–∫–∏ –∏ –±–∏–∑–Ω–µ—Å KPI
- **Pull vs Push** –º–æ–¥–µ–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- TICK Stack –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ~250-350 MB –ø–∞–º—è—Ç–∏
- –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- InfluxDB —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ Docker volume `influxdb-data`
- –î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∂–∏–º `privileged` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ Telegraf –∫ Docker API

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [InfluxDB Documentation](https://docs.influxdata.com/influxdb/v1.8/)
- [Telegraf Plugins](https://github.com/influxdata/telegraf/tree/master/plugins/inputs)
- [Chronograf Guide](https://docs.influxdata.com/chronograf/v1.9/)
- [Docker Plugin](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/docker)

---

## üë§ –ê–≤—Ç–æ—Ä

**Nikita**
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: [github.com/nikdev96/moni](https://github.com/nikdev96/moni)

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
