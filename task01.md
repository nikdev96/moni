# Задание 1

## Вопрос

Опишите основные плюсы и минусы pull и push систем мониторинга.

Какую систему вы выберете для мониторинга платформы вычислений с HTTP-интерфейсом и интенсивной работой ЦПУ? Обоснуйте выбор.

## Ответ

### Минимальный набор метрик для платформы с HTTP-интерфейсом и интенсивной работой ЦПУ:

#### 1. Метрики HTTP-интерфейса:
- **Время отклика (Response Time)** - латентность запросов (p50, p95, p99)
- **Количество запросов в секунду (RPS)** - общая нагрузка
- **Коды состояния HTTP** - 2xx, 4xx, 5xx для отслеживания ошибок
- **Размер запросов/ответов** - для отслеживания объема трафика
- **Количество активных соединений** - текущая нагрузка на сервер
- **Доступность сервиса (Uptime)** - процент времени работы

#### 2. Метрики ЦПУ:
- **Утилизация CPU (%)** - общая загрузка процессора
- **Load Average** - средняя нагрузка за 1, 5, 15 минут
- **CPU time по процессам** - какие процессы потребляют больше всего
- **Context switches** - количество переключений контекста
- **CPU steal time** - для виртуальных машин
- **CPU throttling** - для контейнеризированных сред

#### 3. Метрики памяти:
- **Использование RAM** - свободная/используемая память
- **Swap usage** - использование файла подкачки
- **Memory pressure** - давление на память
- **OOM kills** - количество процессов, убитых из-за нехватки памяти

#### 4. Метрики дисковой системы:
- **Disk I/O** - операции чтения/записи
- **Disk latency** - задержки дисковых операций
- **Disk space** - свободное место на дисках
- **IOPS** - операции ввода-вывода в секунду

#### 5. Метрики сети:
- **Network throughput** - пропускная способность (in/out)
- **Network errors** - ошибки и потери пакетов
- **TCP connections state** - состояние TCP-соединений

#### 6. Метрики приложения:
- **Thread pool utilization** - загрузка пула потоков
- **Queue depth** - глубина очередей запросов
- **GC metrics** - для языков с garbage collection
- **Error rate** - частота ошибок приложения

### Обоснование:

Для платформы с HTTP-интерфейсом критически важно отслеживать **производительность обработки запросов** и **доступность сервиса**. Метрики HTTP позволяют быстро обнаружить проблемы с обслуживанием клиентов.

При **интенсивной работе ЦПУ** необходим детальный мониторинг процессорных ресурсов для:
- Выявления узких мест в производительности
- Планирования масштабирования
- Обнаружения аномалий и утечек ресурсов
- Оптимизации нагрузки

Этот набор метрик обеспечивает:
- **Быструю диагностику** проблем производительности
- **Проактивное обнаружение** потенциальных проблем
- **Планирование capacity** для масштабирования
- **SLA compliance** - соответствие соглашениям об уровне обслуживания
