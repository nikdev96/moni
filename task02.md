# Задание 2

## Вопрос

Менеджер продукта посмотрев на ваши метрики сказал, что ему непонятно что и как считается. Также, он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?

## Ответ

### Метрики, понятные менеджеру продукта для оценки качества обслуживания клиентов:

#### 1. Service Level Indicators (SLI) и Service Level Objectives (SLO):

**Availability (Доступность сервиса):**
- **Метрика:** % времени, когда сервис доступен
- **Цель (SLO):** 99.9% uptime (не более 43 минут простоя в месяц)
- **Понятное объяснение:** "Сервис доступен для клиентов 99.9% времени"

**Response Time (Скорость ответа):**
- **Метрика:** 95% запросов обрабатываются быстрее X секунд
- **Цель (SLO):** 95% запросов < 500ms, 99% запросов < 1s
- **Понятное объяснение:** "95 из 100 запросов обрабатываются менее чем за полсекунды"

**Success Rate (Успешность запросов):**
- **Метрика:** % успешных запросов (HTTP 2xx) от общего числа
- **Цель (SLO):** 99.5% успешных запросов
- **Понятное объяснение:** "995 из 1000 запросов клиентов завершаются успешно"

#### 2. Бизнес-метрики (Business KPI):

**Количество активных пользователей:**
- Уникальные пользователи за день/неделю/месяц
- Позволяет видеть рост/падение пользовательской базы

**Время до первого ответа (Time to First Byte - TTFB):**
- Как быстро пользователь получает первый байт данных
- Влияет на восприятие скорости работы сервиса

**Error Budget (Бюджет ошибок):**
- Сколько ошибок мы можем "позволить себе" до нарушения SLA
- Например: при SLO 99.9%, бюджет на ошибки = 0.1% = 43 минуты в месяц

**Customer Satisfaction Score:**
- На основе обратной связи пользователей
- Можно автоматизировать через опросы после использования сервиса

#### 3. Операционные метрики в понятной форме:

**Throughput (Пропускная способность):**
- Количество успешно обработанных запросов в минуту/час
- "Мы обрабатываем 10,000 запросов клиентов в минуту"

**Incident Response Time:**
- Среднее время от обнаружения проблемы до её решения
- "Проблемы решаются в среднем за 15 минут"

**Mean Time Between Failures (MTBF):**
- Среднее время между сбоями
- "Сбои происходят в среднем раз в 30 дней"

**Mean Time To Recovery (MTTR):**
- Среднее время восстановления после сбоя
- "Восстанавливаем работу в среднем за 10 минут"

#### 4. Dashboard для менеджера продукта:

**Верхний уровень (Executive Dashboard):**
```
┌─────────────────────────────────────────────────┐
│ Service Health Overview                          │
├─────────────────────────────────────────────────┤
│ ✅ Availability: 99.95% (SLO: 99.9%)            │
│ ✅ Success Rate: 99.7% (SLO: 99.5%)             │
│ ⚠️  Response Time: 98% < 500ms (SLO: 95%)      │
│ ✅ Active Users: 15,234 (+12% от прошлой недели)│
├─────────────────────────────────────────────────┤
│ Error Budget: 78% осталось (22% использовано)   │
└─────────────────────────────────────────────────┘
```

#### 5. Формат отчётности:

**Еженедельный отчёт:**
- Были ли нарушения SLA и почему
- Тренды по основным метрикам
- Планы по улучшению

**Алерты в реальном времени:**
- Критические проблемы → немедленное уведомление
- Приближение к порогам SLO → предупреждение
- Использовано >80% error budget → предупреждение

### Преимущества такого подхода:

1. **Прозрачность:** Менеджер видит реальное состояние сервиса
2. **Предсказуемость:** Чёткие цели и метрики для их достижения
3. **Проактивность:** Предупреждения до нарушения SLA
4. **Бизнес-ориентированность:** Метрики связаны с опытом клиентов
5. **Accountability:** Понятно, выполняем ли мы обязательства перед клиентами

### Пример коммуникации:

Вместо: "CPU utilization 85%, response time p95 450ms"
Говорим: "Сервис работает в пределах нормы: 99.5% клиентов получают ответ менее чем за полсекунды, доступность 99.95%"
